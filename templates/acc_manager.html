{% extends "base.html" %}
{% block content %}
    <h2>Account Manager</h2>
    <!-- do zmiany sald w istniejących kontach -->
    <div>
        <table>
        <tr>
            <th>Bank name</th>
            <th>Category</th>
            <th>Current balance</th>
            <th> </th>
        </tr>
            {% for data in accounts_data %}
            <form action="{{ url_for('acc_manager.manager') }}" method="post">
                <input type="hidden" name="bank" value="{{ data['bank'] }}">
                <input type="hidden" name="current_name" value="{{ data['name'] }}">

            <tr>
                <td>{{ data['bank'] }}</td>
                <td><input type="text" id="name_{{ data['name'] }}" name="new_name" value="{{ data['name'] }}"></td>
                <td><input type="text" id="amount_{{ data['id'] }}" name="amount" value="{{ data['amount'] }}"></td>>
                <td><input id="change_name" type = "submit" name="submit_button" value="Change acc name"></td>
                <td><input id="delete_acc" type = "submit" name="submit_button" value="Delete account"></td>
            </tr>
            </form>
            {%endfor%}
        </table>
        
    </div>

    <!-- do dodawania nowych kont do db -->
    <div>
        <form action="{{ url_for('acc_manager.add_acc') }}" method="post">
            <input type="text" id="new_acc_bank" name="bank" placeholder="bank name">
            <input type="text" id="new_acc_name" name="name" placeholder="name">
            <input type="number" id="new_acc_amount" name="amount" placeholder="amount">
            <input id="add_account_button" type="submit" value="wyślij do db">
        </form>
    </div>

    <div>
        <form action="{{ url_for('acc_manager.create_snapshot') }}" method="post">
            <input id="create_snapshot_button" type="submit" value="Create Snapshot">
        </form>
    </div>

{% endblock %}